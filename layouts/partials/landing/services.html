<div id="services" class="services flex-col w-screen h-screen snap-always snap-start">
    <div
        id="services-modal"
        class="absolute hidden z-20 h-full w-full items-center justify-center bg-tintapod-black bg-opacity-60"
        onclick="closeModal()"
    ></div>
    <div class="flex flex-1 flex-col w-full py-12 px-2 lg:px-12 text-tintapod-amber">
        <div class="flex flex-row">
            <div class="flex items-center justify-center lg:justify-start text-4xl lg:text-9xl tracking-wide font-black w-full lg:w-1/2">WHAT</div>
            <div
                class="hidden lg:flex w-0 lg:w-auto items-center lg:items-start justify-center lg:justify-start text-tintapod-gray text-left mt-6 lg:mt-0 text-2xl pt-6"
            >
                <p>Creating content that resonates with your audience is what we do best at tintapod</p>
            </div>
        </div>
        <div class="flex items-center justify-center lg:justify-start text-4xl lg:text-9xl tracking-wide font-black w-full">WE OFFER</div>
        <div
            class="flex lg:hidden items-center lg:items-start justify-center lg:justify-start w-full lg:w-2 text-tintapod-gray text-center mt-6 lg:mt-0 text-lg"
        >
            <p>Creating content that resonates with your audience is what we do best at tintapod</p>
        </div>
    </div>
    <div class="hidden lg:flex flex-1 flex-col lg:flex-row w-full p-12 justify-evenly gap-[8rem] lg:gap-2">
        <div class="flex flex-auto items-center justify-center relative">
            <div class="m-auto bg-tintapod-amber opacity-20 rounded-[4rem] rotate-45 w-[20.013rem] h-[20.827rem]"></div>
            <div
                class="flex m-12 w-[20.789rem] h-[19.769rem] p-2 lg:p-6 absolute bg-tintapod-navy rounded-[4rem] text-tintapod-amber items-center justify-center text-3xl text-center lg:text-left cursor-pointer"
                onclick="showVideo1()"
            >
                LONG-FORM VIDEOS
            </div>
        </div>
        <div class="flex flex-auto items-center justify-center relative">
            <div class="m-auto bg-tintapod-amber opacity-20 rounded-[4rem] rotate-45 w-[20.013rem] h-[20.827rem]"></div>
            <div
                class="flex m-12 w-[20.789rem] h-[19.769rem] p-2 absolute bg-tintapod-navy rounded-[4rem] text-tintapod-amber items-center justify-center text-3xl text-center cursor-pointer"
                onclick="showVideo2()"
            >
                SHORT-FORM VIDEOS
            </div>
        </div>
        <div class="flex flex-auto items-center justify-center relative">
            <div class="m-auto bg-tintapod-amber opacity-20 rounded-[4rem] rotate-45 w-[20.013rem] h-[20.827rem]"></div>
            <div
                class="flex m-12 w-[20.789rem] h-[19.769rem] p-2 lg:p-6 absolute bg-tintapod-navy rounded-[4rem] text-tintapod-amber items-center justify-center text-3xl text-center lg:text-right cursor-pointer"
                onclick="showVideo3()"
            >
                INFLUENCER COLLABORATION
            </div>
        </div>
    </div>
    <div class="flex flex-col lg:hidden p-12 items-center justify-center w-full h-auto">
        <div class="flex flex-row w-full bg-tintapod-navy items-center justify-center text-tintapod-amber cursor-pointer text-xl mb-4 px-4 py-8">
            LONG-FORM VIDEOS
        </div>
        <div class="flex flex-row w-full bg-tintapod-navy items-center justify-center text-tintapod-amber cursor-pointer text-xl mb-4 px-4 py-8">
            SHORT-FORM VIDEOS
        </div>
        <div
            class="flex flex-row w-full bg-tintapod-navy items-center justify-center text-tintapod-amber cursor-pointer text-xl mb-4 px-4 py-8 text-center"
        >
            INFLUENCER COLLABORATION
        </div>
    </div>
    {{/*  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" type="text/javascript"></script>  */}}
    <script>
        const modal = document.querySelector("#services-modal");
        const frame = document.querySelector(".services");
        let childFrame;

        function openModal() {
            frame.classList.add("relative");
            modal.classList.replace("hidden", "flex");
        }

        function closeModal() {
            scaleDownSectionVideo(modal.firstElementChild.firstElementChild);
            setTimeout(function() {
                frame.classList.remove("relative");
                modal.innerHTML = "";
                modal.classList.replace("flex", "hidden");
                childFrame = undefined;
            }, 1000);
        }

        function showVideo1() {
            openModal();
            const el = document.createElement("div");
            el.innerHTML = `
                <video controls autoplay class="services-video-1-frame max-w-full max-h-screen h-4/5 w-4/5 m-auto">
                    <source src="./videos/websitelogopage.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
                    <source src="./videos/websitelogopage.mov" type='video/mov; codecs="theora, vorbis"'>
                    <source src=”./videos/websitelogopage.ogv” type='video/ogg; codecs="theora, vorbis"'>
                    <source src=”./videos/websitelogopage.webm type='video/webm; codecs="theora, vorbis"'>
                </video>
            `;
            modal.appendChild(el);
            scaleUpSectionVideo(modal.firstElementChild.firstElementChild);
        }

        function showVideo2() {
            openModal();
            const el = document.createElement("div");
            el.innerHTML = `
                <video controls autoplay class="services-video-2-frame max-w-full max-h-screen h-4/5 w-4/5 m-auto">
                    <source src="./videos/websitelogopage.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
                    <source src="./videos/websitelogopage.mov" type='video/mov; codecs="theora, vorbis"'>
                    <source src=”./videos/websitelogopage.ogv” type='video/ogg; codecs="theora, vorbis"'>
                    <source src=”./videos/websitelogopage.webm type='video/webm; codecs="theora, vorbis"'>
                </video>
            `;
            modal.appendChild(el);
            scaleUpSectionVideo(modal.firstElementChild.firstElementChild);
        }

        function showVideo3() {
            openModal();
            const el = document.createElement("div");
            el.innerHTML = `
                <video controls autoplay class="services-video-3-frame max-w-full max-h-screen h-4/5 w-4/5 m-auto">
                    <source src="./videos/websitelogopage.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
                    <source src="./videos/websitelogopage.mov" type='video/mov; codecs="theora, vorbis"'>
                    <source src=”./videos/websitelogopage.ogv” type='video/ogg; codecs="theora, vorbis"'>
                    <source src=”./videos/websitelogopage.webm type='video/webm; codecs="theora, vorbis"'>
                </video>
            `;
            modal.appendChild(el);
            scaleUpSectionVideo(modal.firstElementChild.firstElementChild);
        }

        function scaleUpSectionVideo(frame) {
            if (!frame) return;
            anime({
                targets: frame,
                easing: "easeInOutQuart",
                duration: 1000,
                delay: 50,
                elasticity: 300,
                scale: 1.25,
            });
        }

        function scaleDownSectionVideo(frame) {
            if (!frame) return;
            anime({
                targets: frame,
                easing: "easeInOutQuart",
                duration: 1500,
                delay: 100,
                elasticity: 300,
                scale: 0,
            });
        }
    </script>
</div>
